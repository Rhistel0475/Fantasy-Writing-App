<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crucible Writer - Project Forge</title>
    <link rel="stylesheet" href="styles.css?v=2" />
  </head>

  <body>
    <div class="app show-wizard" id="app-root">
      <header class="app-header">
        <div>
          <p class="eyebrow">The Crucible Writing System</p>
          <h1>Crucible Writer</h1>
          <p class="subhead">
            Walk through every beat of your fantasy novel with structured prompts,
            strand tracking, and AI-ready guidance.
          </p>
        </div>

        <div class="status-card">
          <div class="status-row">
            <span>Current phase</span>
            <select id="project-phase" name="projectPhase">
              <option value="Planning">Planning</option>
              <option value="Outlining">Outlining</option>
              <option value="Drafting">Drafting</option>
              <option value="Editing">Editing</option>
            </select>
          </div>

          <div class="status-row">
            <span>Completion</span>
            <div class="progress">
              <div class="progress-bar" id="progress-bar"></div>
            </div>
            <span id="progress-value">0%</span>
          </div>
        </div>
      </header>

      <main class="layout">
        <aside class="sidebar">
          <h2>Crucible Path</h2>
          <nav>
            <a class="nav-item active" data-step="0" href="project-forge.html">1. Project Forge</a>
            <a class="nav-item" data-step="1" href="story-strands.html">2. Story Strands</a>
            <a class="nav-item" data-step="2" href="beat-map.html">3. 36-Beat Map</a>
            <a class="nav-item" data-step="3" href="forge-points.html">4. Forge Points</a>
            <a class="nav-item" data-step="4" href="planning-docs.html">5. Planning Docs</a>
            <a class="nav-item" data-step="5" href="characters.html">6. Characters</a>
            <a class="nav-item" data-step="6" href="mercy-engine.html">7. Mercy Engine</a>
            <a class="nav-item" data-step="7" href="chapters.html">8. Chapters</a>
            <a class="nav-item" data-step="8" href="export-backup.html">9. Export & Backup</a>
          </nav>

          <div class="tip-card">
            <h3>Forge Tips</h3>
            <ul>
              <li>Keep all three strands visible in every movement.</li>
              <li>Plant mercy early to pay it off at the forge points.</li>
              <li>Use the Dark Mirror to echo your hero’s flaw.</li>
            </ul>
          </div>
        </aside>

        <section class="content">
          <div class="step-alert" id="step-alert" role="alert"></div>

          <div class="step active" data-step="0">
            <h2>Project Forge</h2>
            <p>Set the foundation for your Crucible project.</p>

            <div class="page">
              <div class="section">
                <h2 class="section-title">Basics</h2>
                <p class="section-subtitle">Capture the essentials before you start forging beats.</p>

                <div class="form-grid two">
                  <div class="field">
                    <div class="field-label">Project Title</div>
                    <input name="title" data-required="true" placeholder="The Ember Crown" />
                    <div class="field-help">Use the working title you want to see on every page.</div>
                  </div>

                  <div class="field">
                    <div class="field-label">Author</div>
                    <input name="author" placeholder="Your name" />
                  </div>

                  <div class="field">
                    <div class="field-label">Genre</div>
            <div class="card-grid">
              <div class="card">
                <div class="card-header">
                  <div>
                    <h3>Basics</h3>
                    <p class="muted">Capture the essentials before you start forging beats.</p>
                  </div>
                </div>
                <div class="grid two">
                  <label class="field">
                    <span class="field-label">Project Title</span>
                    <input
                      name="title"
                      data-required="true"
                      placeholder="The Ember Crown"
                    />
                    <span class="field-helper">Use the working title you want to see on every page.</span>
                  </label>

                  <label class="field">
                    <span class="field-label">Author</span>
                    <input
                      name="author"
                      placeholder="Your name"
                    />
                  </label>

                  <label class="field">
                    <span class="field-label">Genre</span>
                    <select name="genre">
                      <option value="">Select a genre...</option>
                      <option>Epic Fantasy</option>
                      <option>Dark Fantasy</option>
                      <option>Grimdark</option>
                      <option>Urban Fantasy</option>
                      <option>Romantasy</option>
                      <option>Sword & Sorcery</option>
                      <option>Mythic Fantasy</option>
                      <option>Cozy Fantasy</option>
                      <option>Progression Fantasy</option>
                      <option>LitRPG</option>
                      <option>Other</option>
                    </select>
                  </div>

                  <div class="field">
                    <div class="field-label">Target Word Count</div>
                    <input name="wordCount" type="number" inputmode="numeric" placeholder="90000" />
                    <div class="field-help">Epic fantasy often lands between 120,000–180,000.</div>
                  </div>
                </div>

                <div class="form-grid two" style="margin-top: 14px;">
                  <div class="field">
                    <div class="field-label">Logline / Premise</div>
                    <textarea
                      name="premise"
                      class="ta-md"
                      placeholder="In one sentence, what is your story about?"
                    ></textarea>
                  </div>

                  <div class="field">
                    <div class="field-label">Theme</div>
                    <textarea
                      name="theme"
                      class="ta-md"
                      placeholder="What truth will the story explore?"
                    ></textarea>
                  </div>
                </div>
                  </label>

                  <label class="field">
                    <span class="field-label">Target Word Count</span>
                    <input
                      name="wordCount"
                      type="number"
                      inputmode="numeric"
                      placeholder="90000"
                    />
                    <span class="field-helper">Epic fantasy often lands between 120,000-180,000.</span>
                  </label>
                </div>

                <div class="grid two">
                  <label class="field">
                    <span class="field-label">Logline / Premise</span>
                    <textarea
                      name="premise"
                      placeholder="In one sentence, what is your story about?"
                      rows="3"
                    ></textarea>
                  </label>

                  <label class="field">
                    <span class="field-label">Theme</span>
                    <textarea
                      name="theme"
                      placeholder="What truth will the story explore?"
                      rows="3"
                    ></textarea>
                  </label>
                </div>
              </div>

              <div class="card">
                <div class="card-header">
                  <div>
                    <h3>Mercy Engine</h3>
                    <p class="muted">Plant early compassion to pay it off at the forge points.</p>
                  </div>
                </div>
                <div class="grid two">
                  <label class="field">
                    <span class="field-label">Mercy Planted (Early)</span>
                    <input
                      name="mercyPlanted"
                      data-required="true"
                      placeholder="Who receives mercy early?"
                    />
                  </label>

                  <label class="field">
                    <span class="field-label">Mercy Brewing</span>
                    <input
                      name="mercyBrewing"
                      placeholder="How does it echo?"
                    />
                  </label>

                  <label class="field">
                    <span class="field-label">Mercy Paid Off</span>
                    <input
                      name="mercyPaid"
                      placeholder="When does it return?"
                    />
                  </label>

                  <label class="field">
                    <span class="field-label">Mercy Notes</span>
                    <input
                      name="mercyNotes"
                      placeholder="Optional: why does this matter?"
                    />
                  </label>
                </div>
              </div>

              <div class="card ai-card">
                <div class="ai-section"
                  data-prompt="Project: {title} by {author}. Genre: {genre}. Premise: {premise}. Theme: {theme}. Target words: {wordCount}. Suggest 3 strong story directions and 3 core conflicts that fit the Crucible system."
                >
                  <div class="ai-header">
                    <div>
                      <h3>AI Guidance</h3>
                      <p>Get strong options for conflict + direction.</p>
                    </div>
                    <button class="secondary" data-ai="generate">Generate Prompt</button>
                  </div>
                </div>
                <div class="ai-output" data-ai-output></div>
              </div>
            </div>
          </div>

          <div class="wizard-controls">
            <a class="secondary" id="prev-step" data-href="index.html" href="index.html">Back</a>
            <a class="primary" id="next-step" data-href="story-strands.html" href="story-strands.html">Next Step</a>
          </div>
        </section>
      </main>
    </div>

    <script src="app.js"></script>
  </body>
</html>
